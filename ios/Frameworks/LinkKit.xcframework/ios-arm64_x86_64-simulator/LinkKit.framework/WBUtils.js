/*jslint
        browser
*/
/*global
        atob, Event, StringView, uk, window
*/
eval("var enode = enode || {};"),enode.wb={},enode.wbutils={uint8ArrayToBase64:function(e){let r="";return e.forEach(function(e){e=String.fromCharCode(e);r+=e}),window.btoa(r)},btDeviceNameIsOk:function(e){"use strict";e=new StringView(e).buffer.byteLength;return e<=248&&0<=e},canonicaliseFilter:function(e){"use strict";var r=e.services,n=e.name,o=enode.wbutils;if(void 0!==n&&!o.btDeviceNameIsOk(n))throw new TypeError("Invalid filter name "+n);e=e.namePrefix;if(void 0!==e&&(!o.btDeviceNameIsOk(e)||0===new StringView(e).buffer.byteLength))throw new TypeError("Invalid filter namePrefix "+e);o={name:n,namePrefix:e};if(void 0===r&&void 0===n&&void 0===e)throw new TypeError("Filter has no usable properties");if(void 0!==r){if(!r)throw new TypeError("Filter has empty services");n=r.map(window.BluetoothUUID.getService);o.services=n}return o},defineROProperties:function(r,n){Object.keys(n).forEach(function(e){Object.defineProperty(r,e,{value:n[e]})})},mixin:function(e,r){Object.assign(e.prototype,r.prototype),e.prototype.constructor=e},str64todv:function(e){var r=atob(e),n=new Int8Array(r.length);let o;for(o=0;o<n.length;o+=1)n[o]=r.charCodeAt(o);return new DataView(n.buffer)}},!function(){let o={log:console.log,warn:console.warn,error:console.error};function r(e,r,...n){window.webkit.messageHandlers.logger.postMessage({level:e,message:""+r}),o[e]&&o[e].call(window.console,r,...n)}window.console={debug:(...e)=>r("debug",...e),info:(...e)=>r("log",...e),log:(...e)=>r("log",...e),warn:(...e)=>r("warn",...e),error:(...e)=>r("error",...e),dir:(...e)=>r("log",...e)},window.addEventListener("error",function(e){r("error",`Uncaught error on ${e.filename||"<no filename>"}:${e.lineno||"<no lineno>"} â€“ "${e.message}" `+e.error)})}(),window.nslog=function(e){},window.nslog("WBUtils imported");